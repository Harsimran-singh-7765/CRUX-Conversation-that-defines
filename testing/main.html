<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crux Test Client</title>
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Press+Start+2P&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="logo-container">
        <div class="logo">CRUX</div>
    </div>

    <div class="main-container">
        <div class="sidebar">
            <div class="sidebar-section">
                <h2>âœ¨ Custom</h2>
                <textarea 
                    id="descriptionInput" 
                    placeholder="Describe difficult conversation... (10-500 chars)"
                    maxlength="500"
                ></textarea>
                <div id="charCount" class="char-count">0 / 500</div>
                
                <div class="example-chips">
                    <div class="example-chip" data-example="My mom caught me sneaking in at 3 AM smelling of alcohol">ğŸ  Late</div>
                    <div class="example-chip" data-example="My boss is furious I missed an important client deadline">ğŸ’¼ Work</div>
                    <div class="example-chip" data-example="My roommate keeps eating my food without asking">ğŸ• Food</div>
                    <div class="example-chip" data-example="A taxi driver is taking a suspicious route late at night">ğŸš• Taxi</div>
                </div>
                
                <button id="btnGenerate" class="btn-primary btn-full" disabled>ğŸ¤– Generate</button>
            </div>
        </div>

        <div class="center-content">
            <div id="timer" class="floating-timer">2:00</div>

            <div class="visualizer-area">
                <div class="visualizer-wrapper">
                    <div class="visualizer-label">ğŸ¤– AI</div>
                    <canvas id="visualizerLeft" class="visualizer" width="220" height="220"></canvas>
                </div>
                <div class="visualizer-wrapper">
                    <div class="visualizer-label">ğŸ™ï¸ You</div>
                    <canvas id="visualizerRight" class="visualizer" width="220" height="220"></canvas>
                </div>
            </div>

            <div class="chat-area">
                <div id="status">Waiting to start...</div>
                <div id="chatLog"></div>
                <div class="chat-controls">
                    <button id="btnPushToTalk" class="btn-primary" disabled>Hold to Speak</button>
                    <button id="btnEndGame" class="btn-danger" disabled>End Game</button>
                </div>
            </div>
        </div>

        <div class="sidebar">
            <div class="sidebar-section">
                <h2>ğŸ­ Scenario</h2>
                <div class="scenario-header">
                    <select id="scenarioSelect">
                        <option>Loading...</option>
                    </select>
                    <button id="btnRefreshScenarios" class="btn-small">ğŸ”„</button>
                </div>
                <button id="btnStartGame" class="btn-primary btn-full">Start Game</button>
                <button id="btnConnect" class="btn-primary btn-full" disabled>Connect</button>
            </div>

            <div id="results" style="display: none;"></div>
        </div>
    </div>

    <audio id="audioPlayer"></audio>
    <script src="libs/waviz.umd.js"></script>
    <script src="script.js"></script>
</body>
</html>